\section{Summen von Vektorräumen}

Sei $V$ ein $K$-Vektorraum und $(W_i)$ eine Familie von Untervektorräumen von $V$.

\begin{definition}[Summe von Vektorräumen]
	Die \begriff[Vektorraum!]{Summe} der $W_i$ ist der Untervektorraum
	\begin{align}
		\sum_{i\in I} W_i := \Span_K\left(\bigcup W_i\right)\notag
	\end{align} 
	Im Fall $I=\{1,...,n\}$ schreibt man auch $W_1+...+W_n$ für $\sum_{i=1}^n W_i$. 
\end{definition}

\begin{lemma}
	Es ist $\sum_{i\in I} W_i = \{\sum_{i\in I} x_i \mid x_i\in W_i\text{, fast alle 
		gleich 0}\}$. 
\end{lemma}
\begin{proof}
	\begin{itemize}
		\item $"\supseteq"$: klar, $\sum x_i \in \Span_K(\bigcup W_i)$
		\item $"\subseteq"$: Die rechte Seite enthält jedes $W_i$ und ist ein Untervektorraum von $V$: \\
		Für $x_i,x'_i \in W$, fast alle gleich 0 und $\lambda \in K$ ist $\sum x_i + \sum x'_i = \sum (x_i+x'_i)$, $\lambda
		\cdot \sum x_i = \sum \lambda\cdot x_i$ $\Rightarrow$ Untervektorraum
	\end{itemize}
\end{proof}

\begin{example}
	Ist $(x_i)_{i\in I}$ eine Familie von Elementen von $V$, so ist
	\begin{align}
		\Span_K((x_i)_{i\in I})=\sum_{i\in I} Kx_i\notag
	\end{align}
	wobei $Kx_i$ der Untervektorraum aus \propref{2_1_9} und \propref{2_2_6} ist.
\end{example}

\begin{proposition}
	Es sind äquivalent:
	\begin{itemize}
		\item Jedes $x\in\sum_{i \in I} W_i$ ist eindeutig als $\sum_{i \in I} x_i$ mit $x_i\in W_i$ darstellbar.
		\item Für jedes $i\in I$ ist $W_i\cap\sum_{j\neq i} W_j=\{0\}$.
	\end{itemize}
\end{proposition}
\begin{proof}
	\begin{itemize}
		\item $1\Rightarrow 2$: Sei $x\in W_i\cap\sum_{i\neq j} W_j$. Dann ist $x=\sum_j x_j$ mit $x_j\in W_j$ und $x_i=0$. Die Eindeutigkeit der Darstellung impliziert also, dass $x=0$.
		\item $2\Rightarrow 1$: Sei $x=\sum_{j\in I}x_j=\sum_{j\in I}x'_j$ mit $x_j,x'_j\in W_j$ für alle $j$. Dann ist $0=\sum_{j\in I}(x_j-x'_j)$, also
		\begin{align}
			x_i-x'_i=-\sum_{j\neq i}(x_j-x'_j)\in W_i\cap \sum_{j\neg i} W_j=\{0\}\notag
		\end{align}
	\end{itemize}
\end{proof}

\begin{definition}[direkte Summe]
	\proplbl{2_4_5}
	Ist jedes $x\in \sum W_i$ eindeutig als Summe von $x_i$ mit $x_i\in W_i$ 
	darstellbar, so sagt man, dass $\sum W_i$ die \begriff{direkte Summe} der Untervektorräume $W_i$ ist und schreibt $\oplus W_i$ für 
	$\sum W_i$. Im Fall $I=\{1,...,n\}$ schreibt man auch $W_1\oplus W_2 \oplus ... \oplus W_n$ für $\oplus W_i$.
\end{definition}

\begin{example}
	Ist $(x_1,...,x_n)$ eine Basis von $V$, so ist $V=Kx_1\oplus ... \oplus Kx_n$. 
\end{example}

\begin{remark}
	Wir wollen uns näher mit dem wichtigen Spezialfall $I=\{1,2\}$ beschäftigen und schreiben noch 
	mal auf: 
\end{remark}

\begin{conclusion}
	Seien $W_1,W_2$ Untervektorräume von $V$. Es sind äquivalent:
	\begin{itemize}
		\item $V=W_1\oplus W_2$
		\item $V=W_1 + W_2$ und $W_1 \cap W_2 = \{0\}$
	\end{itemize}
\end{conclusion}

\begin{proposition}
	\proplbl{2_4_9}
	Sind $W_1,W_2$ Untervektorräume von $V$ mit Basen $(x_i)_{i\in I_1}$ bzw. $(x_i)_{i\in I_2}$, wobei $I_1 \cap 
	I_2 = \emptyset$, so sind äquivalent:
	\begin{itemize}
		\item $V=W_1 \oplus W_2$
		\item $(x_i)_{i\in I_1 \cap I_2}$ ist eine Basis von $V$
	\end{itemize}
\end{proposition}
\begin{proof}
	Sei $I=I_1 \cup I_2$.
	\begin{itemize}
		\item $1\Rightarrow 2$: Da $\Span_K((x_i)_{i\in I_1})=W_1$ und $\Span_K((x_i)_{i\in I_2})=W_2$ ist $\Span_K((x_i)
		_{i\in I})=W_1+W_2=V$. Ist $\sum \lambda_ix_i=0$, so ist $\sum_{i\in I_1} \lambda_ix_i = -\sum
		_{i\in I_2} \lambda_ix_i \in W_1 \cap W_2 = \{0\}$. Da $(x_i)_{i\in I_1}$ linear unabhängig ist, ist 
		$\lambda_i=0$, analog für $i\in I_2$.
		\item $2\Rightarrow 1$: $W_1+W_2=\Span_K((x_i)_{i\in I_1})+\Span_K((x_i)_{i\in I_2})=\Span_K((x_i)_{i\in I})=V$. Ist 
		$x\in W_1 \cap W_2$, so ist $x=\sum_{i\in I_1} \lambda_ix_i = \sum_{i\in I_2} \lambda_ix_i$. Somit 
		$0=\sum_{i\in I_1} \lambda_ix_i - \sum_{i\in I_2} \lambda_ix_i$, woraus wegen $(x_i)_{i\in I}$ 
		linear unabhängig schon $\lambda_i=0$ folgt. Somit ist $x=0$.
	\end{itemize}
\end{proof}

\begin{conclusion}
	\proplbl{2_4_10}
	Ist $\dim_K(V)<\infty$, so ist jeder Untervektorraum ein direkter Summand: Ist $W$ ein Untervektorraum von $V$, so 
	gibt es einen Untervektorraum $W'$ von $V$ mit $V=W\oplus W'$ ($W'$ heißt das \begriff{lineare Komplement} von $W$ in $V$). Es 
	ist
	\begin{align}
		\dim_K(W')=\dim_K(V)-\dim_K(W)\notag
	\end{align}
\end{conclusion}
\begin{proof}
	Sei $(x_1,...,x_m)$ eine Basis von $W$. Nach dem Basisergänzungssatz (\propref{2_3_12}) lässt sich diese zu einer Basis $(x_1,...,x_n)$ 
	von $V$ ergänzen. Mit $W':= \Span_K(x_{m+1},...,x_n)$ ist dann $V=W\oplus W'$.
	%TODO: Wo ist der Basisergänzungssatz?
\end{proof}

\begin{remark}
	Ist $\dim_K(V)<\infty$, so folgt aus $W_1\cap W_2=\{0\}$ also insbesondere $\dim_K(W_1+W_2)=
	\dim_K(W_1)+\dim_K(W_2)$. 
\end{remark}

\begin{theorem}[Dimensionsformel]
	\proplbl{2_4_12}
	Sei $\dim_K(V)<\infty$. Für Untervektorräume $W_1,W_2$ von $V$ gilt:
	\begin{align}
		\dim_K(W_1+W_2) + \dim_K(W_1 \cap W_2) = \dim_K(W_1) + \dim_K(W_2)\notag
	\end{align}
\end{theorem}
\begin{proof}
	Da $\dim_K(V)<\infty$ haben alle Untervektorräume von $V$ Basen. Sei also $B_0=(X_1,...,x_n)$ eine Basis von $W_1\cap W_2$. Nach 
	dem Basisergänzungssatz (\propref{2_3_12}) können wir $B_0$ zu den Basen $B_1=(x_1,...,x_n,y_1,...,y_p)$ von $W_1$ und $B_2=(x_1,...,
	x_n,z_1,...,z_q)$ von $W_2$ ergänzen. Wir behaupten, dass $B=(x_1,...,x_n,y_1,...,y_p,z_1,...,z_q)$ eine Basis von 
	$W_1+W_2$ ist. Offenbar ist $B$ ein Erzeugendensystem von $W_1+W_2$. Seien nun $\lambda_1,...,\lambda_n,\mu_1,...,
	\mu_p,\eta_1,...,\eta_q \in K$ mit $\sum_{i=1}^n \lambda_ix_i + \sum_{j=1}^p \mu_jy_j + \sum
	_{k=1}^q \eta_kz_k=0$. Dann ist $\sum_{i=1}^n \lambda_ix_i + \sum_{j=1}^p \mu_jy_j = -\sum
	_{k=1}^q \eta_kz_k \in W_1 \cap W_2$. Da $\Span_K(B_0)=W_1\cap W_2$ und $B_1$ linear unabhängig ist, ist 
	$\mu_j=0$. Analog zeigt man auch, dass $\eta_k=0$. Aus $B_0$ linear unabhängig folgt dann auch, dass $\lambda_i=0$. 
	Somit ist $B$ linear unabhängig. Wir haben gezeigt, dass $B$ eine Basis von $W_1+W_2$ ist. \\
	$\Rightarrow \dim_K(W_1)+\dim_K(W_2)=|B_1|+|B_2|=(n+p)+(n-q)=(n+p+q)+n=|B|+|B_0|=\dim_K(W_1+W_2)+\dim_K(W_1\cap W_2)$.
\end{proof}

\begin{definition}[externes Produkt]
	Das \begriff{externe Produkt} einer Familie $(V_i)$ von $K$-Vektorräumen ist der $K$-Vektorraum 
	$\prod V_i$ bestehend aus dem kartesischen Produkt der $V_i$ mit komponentenweiser Addition und 
	Skalarmultiplikation, $(x_i)+(x'_i) := (x_i+x'_i)$ und $\lambda(x_i) := (\lambda x_i).$
\end{definition}

\begin{definition}[externe Summe]
	Die \begriff{externe Summe} einer Familie $(V_i)$ von $K$-Vektorräumen ist der Untervektorraum 
	$\oplus V_i := \{(x_i) \in \prod V_i \mid x_i=0 \text{; für fast alle }i\}$ des $K$-Vektorraum $\prod V_i$.
\end{definition}

\begin{remark}
	Man prüft sofort nach, dass $\prod V_i$ ein $K$-Vektorraum ist und $\oplus V_i$ ein Untervektorraum davon ist. Für 
	endliche Indexmengen ist $\prod V_i = \oplus V_i$, z.B. $K^n = \prod_{i=1}^n K = \oplus K$.
	
	Eine erste Beziehung zwischen externer direkter Summe und direkter Summe im Sinne von \propref{2_4_5} gibt das folgende Lemma. Im nächsten Kapitel werden wir den Zusammenhang dann vollständig verstehen.
\end{remark}

\begin{lemma}
	Sei $(V_i)$ eine Familie von $K$-Vektorräumen und sei $V=\oplus V_i$. Für jedes $j\in I$ ist $\tilde V_j :=
	V \times \prod_{i\in I\backslash\{j\}} \{0\}$ ein Untervektorraum von $V$ und $V=\oplus \tilde V_j$
\end{lemma}
\begin{proof}
	Ist $x=(x_i)\in V$ mit $x_i\in V_i$, fast alle $x_i=0$, so ist $x=\sum \tilde x_i$ mit $\tilde x:=(x_i\delta_{ij})
	\in \tilde V_j$. Somit ist $V=\sum \tilde V_i$. Die Gleichung $\tilde V_i \cap \sum_{j\neq i} \tilde V_j 
	=\{0\}$ folgt aus Definition der $\tilde V_i.$
\end{proof}